{
  "experiment": "exp10b_generalization_rerun",
  "phase": "B",
  "date": "2026-02-21T14:42:47.824313",
  "testset": "golden_testset_multi.csv",
  "n_questions": 30,
  "n_documents": 5,
  "n_runs": 3,
  "chunk_size": 500,
  "chunk_overlap": 50,
  "embedding_model": "text-embedding-3-small",
  "llm_model": "gpt-5-mini",
  "total_time_sec": 2812.0,
  "total_evals": 270,
  "total_errors": 0,
  "configs": {
    "A_single_pipeline": {
      "name": "A_single_pipeline",
      "description": "Current best (alpha=0.7, rerank, pool=50, top_k=15)",
      "params": {
        "alpha": 0.7,
        "top_k": 15,
        "pool_size": 50,
        "use_rerank": true
      },
      "doc_type_overrides": {}
    },
    "B_rule_single_route": {
      "name": "B_rule_single_route",
      "description": "Per-doc-type alpha (text_only=0.5)",
      "params": {
        "alpha": 0.7,
        "top_k": 15,
        "pool_size": 50,
        "use_rerank": true
      },
      "doc_type_overrides": {
        "text_only": {
          "alpha": 0.5
        },
        "table_complex": {
          "alpha": 0.8,
          "pool_size": 60
        }
      }
    },
    "C_conservative_wide": {
      "name": "C_conservative_wide",
      "description": "Wider net (top_k=20, pool=75)",
      "params": {
        "alpha": 0.7,
        "top_k": 20,
        "pool_size": 75,
        "use_rerank": true
      },
      "doc_type_overrides": {}
    }
  },
  "results": {
    "A_single_pipeline": {
      "kw_v2_overall": 0.7503,
      "kw_v2_std": 0.3025,
      "kw_v2_macro": 0.7503,
      "kw_v2_worst": 0.6537,
      "worst_doc": "doc_B",
      "timeout_rate": 0.0,
      "p95_latency_sec": 26.8,
      "pass_kw": "True",
      "pass_worst_kw": "True",
      "pass_ops": "True"
    },
    "B_rule_single_route": {
      "kw_v2_overall": 0.7559,
      "kw_v2_std": 0.3015,
      "kw_v2_macro": 0.7559,
      "kw_v2_worst": 0.6584,
      "worst_doc": "doc_D",
      "timeout_rate": 0.0,
      "p95_latency_sec": 21.8,
      "pass_kw": "True",
      "pass_worst_kw": "True",
      "pass_ops": "True"
    },
    "C_conservative_wide": {
      "kw_v2_overall": 0.756,
      "kw_v2_std": 0.2993,
      "kw_v2_macro": 0.756,
      "kw_v2_worst": 0.6587,
      "worst_doc": "doc_D",
      "timeout_rate": 0.0,
      "p95_latency_sec": 29.5,
      "pass_kw": "True",
      "pass_worst_kw": "True",
      "pass_ops": "True"
    }
  },
  "config_summary": {
    "kw_v2_mean": {
      "A_single_pipeline": 0.7503,
      "B_rule_single_route": 0.7559,
      "C_conservative_wide": 0.756
    },
    "kw_v2_std": {
      "A_single_pipeline": 0.3025,
      "B_rule_single_route": 0.3015,
      "C_conservative_wide": 0.2993
    },
    "total_time_mean": {
      "A_single_pipeline": 10.5258,
      "B_rule_single_route": 8.8499,
      "C_conservative_wide": 11.866
    },
    "total_time_p95": {
      "A_single_pipeline": 26.8285,
      "B_rule_single_route": 21.7516,
      "C_conservative_wide": 29.5093
    },
    "timeout_rate": {
      "A_single_pipeline": 0.0,
      "B_rule_single_route": 0.0,
      "C_conservative_wide": 0.0
    }
  },
  "doc_pivot": {
    "doc_A": {
      "A_single_pipeline": 0.9236111111111112,
      "B_rule_single_route": 0.9236111111111112,
      "C_conservative_wide": 0.9236111111111112
    },
    "doc_B": {
      "A_single_pipeline": 0.6537189924702824,
      "B_rule_single_route": 0.7031017085196651,
      "C_conservative_wide": 0.7031017085196651
    },
    "doc_C": {
      "A_single_pipeline": 0.7481481481481481,
      "B_rule_single_route": 0.7481481481481481,
      "C_conservative_wide": 0.7481481481481481
    },
    "doc_D": {
      "A_single_pipeline": 0.6799370220422852,
      "B_rule_single_route": 0.6583895636527215,
      "C_conservative_wide": 0.6586819613135403
    },
    "doc_E": {
      "A_single_pipeline": 0.7462506841817187,
      "B_rule_single_route": 0.7462506841817187,
      "C_conservative_wide": 0.7462506841817187
    },
    "macro_mean": {
      "A_single_pipeline": 0.7503331915907091,
      "B_rule_single_route": 0.7559002431226729,
      "C_conservative_wide": 0.7559587226548368
    }
  },
  "errors": []
}